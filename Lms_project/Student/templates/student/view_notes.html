{% extends 'base.html' %}
{% block content %}
{% include 'teacher/_sidebar.html' %}

<div class="main-content" style="margin-left:200px; padding:35px; background:#f4f8fb; min-height:100vh;">
    <a href="javascript:history.back()" class="btn btn-outline-danger go-back-btn" >
    <i class="fas fa-arrow-left"></i> Go Back
  </a>
    <h2 class="mt-3">{{ note.title }}</h2>
    <p><strong>Content:</strong></p>
    <p>{{ note.content|linebreaks }}</p>

    {% if note.upload_file %}
        <div class="mt-4">
            <strong>Attached File:</strong><br>

            {% with file_url=note.upload_file.url|lower %}
                {% if '.pdf' in file_url %}
                    <!-- PDF Viewer -->
                    <iframe src="{{ note.upload_file.url }}" width="100%" height="600px" style="border:none;"></iframe>
                {% elif '.jpg' in file_url or '.jpeg' in file_url or '.png' in file_url %}
                    <!-- Image Viewer -->
                    <img src="{{ note.upload_file.url }}" alt="Note File" class="img-fluid rounded mt-2">
                {% elif '.mp4' in file_url or '.webm' in file_url %}
                    <!-- Video Viewer -->
                    <video controls width="100%" class="mt-2 rounded">
                        <source src="{{ note.upload_file.url }}">
                        Your browser does not support the video tag.
                    </video>
                {% else %}
                    <!-- Other file types -->
                    <p><a href="{{ note.upload_file.url }}" target="_blank">View File</a></p>
                {% endif %}
            {% endwith %}
        </div>
    {% endif %}
</div>
{% endblock %}
